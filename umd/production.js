(()=>{"use strict";var e={45:(e,o,r)=>{function t(e){return!(null==e)}function n(e){return t(e)&&e.length>0}function s(e){return!n(e)}function i(e){return t(e)&&(""===e.trim()||0===e.trim().length)}function a(e,o){return n(e)&&e.length===o}function l(e,o,r=!1){return!(!t(e)||!t(o))&&(r?e.toLowerCase()===o.toLowerCase():e===o)}function c(e){return JSON.parse(JSON.stringify(e))}function d(e){return 0===Object.keys(e).length}r.r(o),r.d(o,{areStringsEqual:()=>l,arrayDeepCopy:()=>c,arrayEmpty:()=>s,arrayLength:()=>a,arrayNotEmpty:()=>n,isEmptyObject:()=>d,isEmptyString:()=>i,valueExists:()=>t})},502:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isDevelopmentMode=o.resolvePropertyToken=o.initConfig=o.isConfiguredProperly=o.isProperConfigProvided=o.config=void 0,o.isProperConfigProvided=!1;const r={stopSimpleEvent:!1,stopDataEvent:!1,stopPageViewEvent:!1,stopAll:!1,logOnly:!1};function t(){return!!o.config&&o.config.isDevelopmentMode}o.isConfiguredProperly=function(e){return e.hasOwnProperty("propertyToken")&&""!=e.propertyToken&&e.hasOwnProperty("isDevelopmentMode")},o.initConfig=function(e){o.config={...r,...e},o.isProperConfigProvided=!0,t()&&console.log("configuration: ",o.config)},o.resolvePropertyToken=function(){return o.config?o.config.propertyToken:""},o.isDevelopmentMode=t},318:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.sendEmail=void 0;const t=r(374),n=r(454),s=r(502),i=r(51),a=r(694);o.sendEmail=function(e,o,r,l,c,d,v){let u=new FormData;u.append("engineId",o),u.append("userId",l),u.append("templateId",r),u.append("senderInfo[deviceType]",(0,t.resolveDevice)()),u.append("senderInfo[osName]",(0,t.resolveOS)()),u.append("senderInfo[browserName]",(0,t.resolveBrowser)()),u.append("senderInfo[ipAddress]",(0,n.resolveIPAddress)()),u.append("senderInfo[countryCode]",(0,n.resolveCountry)()),u.append("senderInfo[region]",(0,n.resolveRegion)()),u.append("senderInfo[city]",(0,n.resolveCity)()),u.append("senderInfo[url]",(0,a.resolveSegmentUrl)()),c.forEach(((e,o)=>{u.append(`metadata[${o}]`,e)})),(0,s.isDevelopmentMode)()&&console.log("email data: ",u),(0,i.transferEmail)(u,e,(()=>{}),(e=>{}),(e=>{(0,s.isDevelopmentMode)()&&console.log("email sent successfully"),d()}),(e=>{(0,s.isDevelopmentMode)()&&console.log(`email sending error: ${e}`),v()}),(()=>{}))}},448:(e,o)=>{var r;Object.defineProperty(o,"__esModule",{value:!0}),o.EmailEngineTypeEnum=void 0,function(e){e.GMAIL="GMAIL",e.CUSTOM_SMTP="CUSTOM_SMTP"}(r||(o.EmailEngineTypeEnum=r={}))},857:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.resolveDataEvent=void 0;const t=r(647),n=r(502),s=r(454),i=r(374),a=r(494),l=r(270),c=r(358),d=r(694);o.resolveDataEvent=function(e,o,r=""){if((0,t.isBot)()&&(n.config.stopAll=!0),!n.isProperConfigProvided)return void console.error("bloomsight.js: propertyToken, isDevelopmentMode are mandatory parameters");if(n.config?.stopAll||n.config?.stopDataEvent)return void console.error("bloomsight.js: tracking data event is disabled!");const v={property:(0,n.resolvePropertyToken)(),dataEventToken:e,eventLogData:o,userId:(0,l.resolveUserId)(),ipAddress:(0,s.resolveIPAddress)(),city:(0,s.resolveCity)(),countryCode:(0,s.resolveCountry)(),region:(0,s.resolveRegion)(),browserName:(0,i.resolveBrowser)(),browserVersion:(0,i.resolveBrowserVersion)(),osName:(0,i.resolveOS)(),deviceType:(0,i.resolveDevice)(),isDesktopModeEnabled:(0,i.isDesktopModeEnabled)(),url:(0,d.resolveSegmentUrl)()||""},u=(0,c.retrieveEventList)();u&&u.includes(e)||(l.isNewUser?v.newUser=!0:v.returningUser=!0,v.newSession=!0,(0,c.storeEventList)([...u,e])),(0,n.isDevelopmentMode)()&&console.log("data event data: ",v),(0,a.logDataEvent)(v,(()=>{}),(e=>{}),(o=>{(0,n.isDevelopmentMode)()&&console.log(`event ${e} logged successfully`)}),(e=>{(0,n.isDevelopmentMode)()&&console.log(`event log error: ${e}`)}),(()=>{}))}},358:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.retrieveEventList=o.storeEventList=void 0;const t=r(720),n="bs-event-list";o.storeEventList=function(e){(0,t.storeInLocalStore)(n,JSON.stringify(e))},o.retrieveEventList=function(){return""===(0,t.retrieveFromLocalStore)(n)?[]:JSON.parse((0,t.retrieveFromLocalStore)(n))}},848:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.resolvePageViewEvent=o.pageViewObserver=void 0;const t=r(502),n=r(454),s=r(374),i=r(610),a=r(407),l=r(838),c=r(647),d=r(270),v=r(358),u=r(694),p=r(720),m=r(914),g="bs-start-url",S="SITE_VISITED";let f=0;function y(e){return e?(0,u.resolveDocumentReferrer)():(0,a.retrieveFromSessionStore)(g)}function E(e,o){if((0,c.isBot)()&&(t.config.stopAll=!0),!t.isProperConfigProvided)return void console.error("bloomsight.js: propertyToken, isDevelopmentMode are mandatory parameters");if(t.config?.stopAll||t.config?.stopPageViewEvent)return void console.error("bloomsight.js: tracking page view event is disabled!");const r={property:(0,t.resolvePropertyToken)(),userId:(0,d.resolveUserId)(),referredUrl:y(e),ipAddress:(0,n.resolveIPAddress)(),city:(0,n.resolveCity)(),countryCode:(0,n.resolveCountry)(),region:(0,n.resolveRegion)(),browserName:(0,s.resolveBrowser)(),browserVersion:(0,s.resolveBrowserVersion)(),osName:(0,s.resolveOS)(),deviceType:(0,s.resolveDevice)(),isDesktopModeEnabled:(0,s.isDesktopModeEnabled)(),url:(0,u.resolveSegmentUrl)()||"",title:(0,u.resolveDocumentTitle)()||"",utmCampaign:o.utmCampaign,utmContent:o.utmContent,utmMedium:o.utmMedium,utmSource:o.utmSource,utmTerm:o.utmTerm},l=(0,v.retrieveEventList)();l&&l.includes(S)||(d.isNewUser?r.newUser=!0:r.returningUser=!0,r.newSession=!0,(0,v.storeEventList)([...l,S])),1!=f&&2!=(0,m.retrieveSessionActiveTabsCount)()||(0,p.retrieveFromLocalStore)(m.SESSION_DEBOUNCE_TRACKER_KEY)||(r.debounce=!0,(0,p.storeInLocalStore)(m.SESSION_DEBOUNCE_TRACKER_KEY,"true")),(0,t.isDevelopmentMode)()&&console.log("page view data: ",r),t.config?.logOnly&&((0,a.storeInSessionStore)("startUrl",(0,u.resolveActiveUrl)()),(0,a.storeInSessionStore)("bs-page-views",(f+1).toString())),(0,i.logPageViewEvent)(r,(()=>{}),(e=>{}),(e=>{(0,t.isDevelopmentMode)()&&console.log("page view event logged successfully")}),(e=>{(0,t.isDevelopmentMode)()&&console.log(`event log error: ${e}`)}),(()=>{(0,a.storeInSessionStore)("startUrl",(0,u.resolveActiveUrl)()),(0,a.storeInSessionStore)("bs-page-views",(f+1).toString())}))}o.pageViewObserver=function(){setTimeout((()=>(0,n.initLocation)((()=>{f=parseInt((0,a.retrieveFromSessionStore)("bs-page-views"))||0,(0,a.retrieveFromSessionStore)("startUrl")==(0,u.resolveActiveUrl)()&&(f=0),E(0==f,(0,l.resolveUTMData)((0,u.resolveActiveUrl)()))}))),2e3)},o.resolvePageViewEvent=E},971:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.resolveSimpleEvent=void 0;const t=r(374),n=r(502),s=r(454),i=r(48),a=r(647),l=r(270),c=r(358),d=r(694);o.resolveSimpleEvent=function(e,o=""){if((0,a.isBot)()&&(n.config.stopAll=!0),!n.isProperConfigProvided)return void console.error("bloomsight.js: propertyToken, isDevelopmentMode are mandatory parameters");if(n.config?.stopAll||n.config?.stopSimpleEvent)return void console.error("bloomsight.js: tracking simple event is disabled!");const r={property:(0,n.resolvePropertyToken)(),simpleEventToken:e,userId:(0,l.resolveUserId)(),ipAddress:(0,s.resolveIPAddress)(),city:(0,s.resolveCity)(),countryCode:(0,s.resolveCountry)(),region:(0,s.resolveRegion)(),browserName:(0,t.resolveBrowser)(),browserVersion:(0,t.resolveBrowserVersion)(),osName:(0,t.resolveOS)(),deviceType:(0,t.resolveDevice)(),isDesktopModeEnabled:(0,t.isDesktopModeEnabled)(),url:(0,d.resolveSegmentUrl)()||""},v=(0,c.retrieveEventList)();v&&v.includes(e)||(l.isNewUser?r.newUser=!0:r.returningUser=!0,r.newSession=!0,(0,c.storeEventList)([...v,e])),(0,n.isDevelopmentMode)()&&console.log("simple event data: ",r),(0,i.logSimpleEvent)(r,(()=>{}),(e=>{}),(o=>{(0,n.isDevelopmentMode)()&&console.log(`event ${e} logged successfully`)}),(e=>{(0,n.isDevelopmentMode)()&&console.log(`event log error: ${e}`)}),(()=>{}))}},454:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.resolveCity=o.resolveRegion=o.resolveCountry=o.resolveIPAddress=o.initLocation=void 0;const t=r(407),n=r(502),s=r(340),i="bs-ip",a="bs-city",l="bs-region",c="bs-country";o.initLocation=function(e){if((0,t.hasKeyInSessionStore)(i)&&(0,t.hasKeyInSessionStore)(a)&&(0,t.hasKeyInSessionStore)(l)&&(0,t.hasKeyInSessionStore)(c))return(0,n.isDevelopmentMode)()&&(console.log(`ip: ${(0,t.retrieveFromSessionStore)(i)}`),console.log(`city: ${(0,t.retrieveFromSessionStore)(a)}`),console.log(`region: ${(0,t.retrieveFromSessionStore)(l)}`),console.log(`country: ${(0,t.retrieveFromSessionStore)(c)}`)),void e();(0,s.resolveLocation)((()=>{}),(e=>{}),(e=>{var o;o=e,(0,t.storeInSessionStore)(i,o.ip),(0,t.storeInSessionStore)(a,o.city),(0,t.storeInSessionStore)(l,o.region),(0,t.storeInSessionStore)(c,o.country),(0,n.isDevelopmentMode)()&&(console.log(`ip: ${o.ip}`),console.log(`city: ${o.city}`),console.log(`region: ${o.region}`),console.log(`country: ${o.country}`))}),(e=>{(0,n.isDevelopmentMode)()&&console.log(`failed to resolve location: ${e}`)}),(()=>{e()}))},o.resolveIPAddress=function(){return(0,t.retrieveFromSessionStore)(i)},o.resolveCountry=function(){return(0,t.retrieveFromSessionStore)(c)},o.resolveRegion=function(){return(0,t.retrieveFromSessionStore)(l)},o.resolveCity=function(){return(0,t.retrieveFromSessionStore)(a)}},830:(e,o)=>{var r;Object.defineProperty(o,"__esModule",{value:!0}),o.IBrowser=void 0,function(e){e.Unknown="Unknown",e.Chrome="Google Chrome",e.Chrome_iOS="Google Chrome (iOS)",e.Firefox="Mozilla Firefox",e.Safari="Apple Safari",e.ME_Legacy="Microsoft Edge (Legacy)",e.ME_Chromium="Microsoft Edge (Chromium)",e.IE="Microsoft Internet Explorer",e.Opera="Opera",e.Opera_Next="Opera Next"}(r||(o.IBrowser=r={}))},650:(e,o)=>{var r;Object.defineProperty(o,"__esModule",{value:!0}),o.IDevice=void 0,function(e){e.Unknown="Unknown",e.Tablet="Tablet",e.Mobile="Mobile",e.Desktop="Desktop",e.WebView="WebView"}(r||(o.IDevice=r={}))},583:(e,o)=>{var r;Object.defineProperty(o,"__esModule",{value:!0}),o.IOperatingSystem=void 0,function(e){e.Unknown="Unknown",e.MacOS="MacOS",e.Linux="Linux",e.Windows="Windows",e.Android="Android",e.iOS="iOS"}(r||(o.IOperatingSystem=r={}))},374:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isDesktopModeEnabled=o.resolveDevice=o.resolveOS=o.resolveBrowserVersion=o.resolveBrowser=o.initPlatform=void 0;const t=r(830),n=r(583),s=r(650),i=r(502),a=r(694),l=(0,a.resolveUserAgent)(),c=(0,a.resolveWindow)(),d=(0,a.resolveDocument)();function v(){let e=0,o=0;switch(!0){case l.includes("CriOS"):return t.IBrowser.Chrome_iOS;case l.includes("Edge"):return t.IBrowser.ME_Legacy;case l.includes("Edg"):return t.IBrowser.ME_Chromium;case l.includes("OPR"):return t.IBrowser.Opera_Next;case l.includes("Opera"):return t.IBrowser.Opera;case l.includes("Chrome"):return t.IBrowser.Chrome;case l.includes("Safari"):return t.IBrowser.Safari;case l.includes("Firefox"):return t.IBrowser.Firefox;case l.includes("MSIE")||l.includes("Trident"):return t.IBrowser.IE;case(e=l.lastIndexOf(" ")+1)<(o=l.lastIndexOf("/")):return l.substring(e,o);default:return"Unknown"}}function u(){const e=l.match(/(Chrome|Firefox|Safari|Edge|IE|Opera|Trident)[\/\s](\d+(\.\d+)*)/);return e&&e[2]?e[2]:"Unknown"}function p(){switch(!0){case/Android/i.test(l):return n.IOperatingSystem.Android;case/Windows/i.test(l):return n.IOperatingSystem.Windows;case/iPhone|iPad|iPod/i.test(l):return n.IOperatingSystem.iOS;case/Mac OS/i.test(l):return/iPad|Macintosh/.test(l)&&d&&"ontouchend"in d?n.IOperatingSystem.iOS:n.IOperatingSystem.MacOS;case/Linux/i.test(l)&&!/Android/i.test(l):return n.IOperatingSystem.Linux;default:return n.IOperatingSystem.Unknown}}function m(){return function(){const e=!!l.match(new RegExp("(WebView|(iPhone|iPod|iPad)(?!.*Safari)|Android.*(;\\s+wv|Version/\\d.\\d\\s+Chrome/\\d+(\\.0){3})|Linux; U; Android)","ig")),o=c.matchMedia("(display-mode: standalone)").matches||void 0!==c.navigator?.standalone&&c.navigator?.standalone||d?.referrer?.startsWith("android-app://")||d?.referrer?.startsWith("ios-app://"),r=void 0===c.navigator?.userAgentData?.platform;return e||o||r}()?s.IDevice.WebView:/iPad/i.test(l)||/Macintosh/.test(l)&&d&&"ontouchend"in d?s.IDevice.Tablet:/Mobile|iPhone|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|hpw|webOS/i.test(l)?s.IDevice.Mobile:s.IDevice.Desktop}o.initPlatform=function(){const e=v(),o=u(),r=p(),t=m();(0,i.isDevelopmentMode)()&&(console.log(`browser: ${e}`),console.log(`version: ${o}`),console.log(`os: ${r}`),console.log(`device: ${t}`))},o.resolveBrowser=v,o.resolveBrowserVersion=u,o.resolveOS=p,o.resolveDevice=m,o.isDesktopModeEnabled=function(){return c.innerWidth>c.screen.availWidth}},382:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.validateProperty=void 0;const t=r(230),n=r(502);o.validateProperty=function(e,o){return new Promise(((r,s)=>{(0,t.resolvePropertyMetadata)(e,(()=>{(0,n.isDevelopmentMode)()&&r(!0)}),(()=>{}),(e=>{r(e.name.replace(/^www\./,"")===o.replace(/^www\./,""))}),(e=>{s("unable to validate bloomsight property token!")}),(()=>{}))}))}},914:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.retrieveSessionActiveTabsCount=o.initSession=o.isNewSession=o.SESSION_DEBOUNCE_TRACKER_KEY=void 0;const t=r(720),n=r(407),s=r(358),i=r(694),a="bs-session-last-activity",l="bs-session-end",c="bs-active-tabs-count",d="bs-tab-tracked",v=30;function u(){+(0,t.retrieveFromLocalStore)(a)+6e4-Date.now()<0&&(function(){const e=m();return Date.now()>e}()&&p(),f())}function p(){(0,s.storeEventList)([]),(0,t.removeKeyFromLocalStore)(o.SESSION_DEBOUNCE_TRACKER_KEY),f(),o.isNewSession=!0}function m(){return+(0,t.retrieveFromLocalStore)(l)}function g(){return+(0,t.retrieveFromLocalStore)(c)}function S(e){(0,t.storeInLocalStore)(c,JSON.stringify(e)),(0,n.storeInSessionStore)(d,"true")}function f(){(0,t.storeInLocalStore)(a,JSON.stringify(Date.now())),(0,t.storeInLocalStore)(l,JSON.stringify(Date.now()+60*v*1e3))}o.SESSION_DEBOUNCE_TRACKER_KEY="bs-debounce-tracked",o.isNewSession=!1,o.initSession=function(){const e=m();e?Date.now()>e?p():o.isNewSession=!1:p(),(0,i.resolveWindow)()?.addEventListener("keydown",(()=>u())),(0,i.resolveWindow)()?.addEventListener("mousemove",(()=>u())),(0,i.resolveWindow)()?.addEventListener("click",(()=>u())),(0,i.resolveWindow)()?.addEventListener("scroll",(()=>u())),(0,i.resolveWindow)()?.addEventListener("wheel",(()=>u())),function(){let e=g();(0,n.retrieveFromSessionStore)(d)?(e++,S(e)):!(0,n.retrieveFromSessionStore)(d)&&e<=0&&p()}(),(0,n.retrieveFromSessionStore)(d)||S(g()+1),(0,i.resolveWindow)()?.addEventListener("beforeunload",(e=>{let o=g()-1;o<0&&(o=0),S(o)}))},o.retrieveSessionActiveTabsCount=g},846:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RESOURCE_VALIDATION_ERROR=void 0,o.RESOURCE_VALIDATION_ERROR="We could not validate your authority to access resources"},912:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.HTTP_HEADERS=o.SMTP_EMAIL_TRANSFER_API=o.GMAIL_EMAIL_TRANSFER_API=o.ADD_PAGE_VIEW_EVENT_API=o.ADD_DATA_EVENT_API=o.ADD_SIMPLE_EVENT_API=o.GET_PROPERTY_API=o.LOCATION_API=void 0;const r="https://api.bloomsight.io/api/v1";o.LOCATION_API="https://api.bloomsight.io/service/get-my-ip",o.GET_PROPERTY_API=r+"/property/get/{propertyToken}",o.ADD_SIMPLE_EVENT_API=r+"/simple-event-data/add",o.ADD_DATA_EVENT_API=r+"/data-event-data/add",o.ADD_PAGE_VIEW_EVENT_API=r+"/page-view-data/add",o.GMAIL_EMAIL_TRANSFER_API=r+"/email-notifier/gmail/send",o.SMTP_EMAIL_TRANSFER_API=r+"/email-notifier/smtp/send",o.HTTP_HEADERS=new Headers({"Content-Type":"application/json"})},494:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.logDataEvent=void 0;const t=r(304),n=r(912),s=r(502);o.logDataEvent=function(e,o,r,i,a,l){s.config?.logOnly||(0,t.executePostPayload)(n.ADD_DATA_EVENT_API,e,n.HTTP_HEADERS,o,r,i,a,l)}},51:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.transferEmail=void 0;const t=r(304),n=r(912),s=r(502),i=r(448);o.transferEmail=function(e,o,r,a,l,c,d){s.config?.logOnly||(0,t.executePostPayload)(o===i.EmailEngineTypeEnum.GMAIL?n.GMAIL_EMAIL_TRANSFER_API:n.SMTP_EMAIL_TRANSFER_API,e,void 0,r,a,l,c,d)}},340:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.resolveLocation=void 0;const t=r(304),n=r(912);o.resolveLocation=function(e,o,r,s,i){(0,t.executeGetPayload)(n.LOCATION_API,n.HTTP_HEADERS,e,o,r,s,i,"information")}},610:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.logPageViewEvent=void 0;const t=r(304),n=r(912),s=r(502);o.logPageViewEvent=function(e,o,r,i,a,l){s.config?.logOnly||(0,t.executePostPayload)(n.ADD_PAGE_VIEW_EVENT_API,e,n.HTTP_HEADERS,o,r,i,a,l)}},230:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.resolvePropertyMetadata=void 0;const t=r(304),n=r(912);o.resolvePropertyMetadata=function(e,o,r,s,i,a){(0,t.executeGetPayload)(n.GET_PROPERTY_API.replace("{propertyToken}",e),n.HTTP_HEADERS,o,r,s,i,a,"property")}},48:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.logSimpleEvent=void 0;const t=r(304),n=r(912),s=r(502);o.logSimpleEvent=function(e,o,r,i,a,l){s.config?.logOnly||(0,t.executePostPayload)(n.ADD_SIMPLE_EVENT_API,e,n.HTTP_HEADERS,o,r,i,a,l)}},304:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.executePostPayload=o.executeGetPayload=o.executeBasicGet=void 0;const t=r(45),n=r(846),s=r(694);o.executeBasicGet=function(e,o,r,t,i,a,l){(0,s.isBrowser)()&&(r(),fetch(e,{method:"GET",headers:o}).then((e=>e.json())).then((e=>{t(e.message),e.success?i(e.message):a(n.RESOURCE_VALIDATION_ERROR)})).catch((e=>a(e.toString()))).finally((()=>l())))},o.executeGetPayload=function(e,o,r,i,a,l,c,d){(0,s.isBrowser)()&&(r(),fetch(e,{method:"GET",headers:o}).then((e=>e.json())).then((e=>{i(e[d]),e.success?a(e[d]):l((0,t.isEmptyString)(e.message)?n.RESOURCE_VALIDATION_ERROR:e.message)})).catch((e=>l(e.toString()))).finally((()=>c())))},o.executePostPayload=function(e,o,r,i,a,l,c,d){if(!(0,s.isBrowser)())return;i();const v={method:"POST",headers:r};o instanceof FormData?v.body=o:(v.body=JSON.stringify(o),v.headers={...v.headers,"Content-Type":"application/json"}),fetch(e,v).then((e=>e.json())).then((e=>{a(e),e.success?l(e):c((0,t.isEmptyString)(e.message)?n.RESOURCE_VALIDATION_ERROR:e.message)})).catch((e=>c(e.toString()))).finally((()=>d()))}},270:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.setUserStatus=o.resolveUserId=o.initUser=o.isNewUser=void 0;const t=r(720),n=r(171),s=r(502),i="bs-user-token";o.isNewUser=!1;let a="";o.initUser=function(){var e;(0,t.retrieveFromLocalStore)(i)?(a=(0,t.retrieveFromLocalStore)(i),o.isNewUser=!1):(a=(0,n.generateUserId)(),o.isNewUser=!0,e=a,(0,t.storeInLocalStore)(i,e)),(0,s.isDevelopmentMode)()&&console.log(`active user id: ${a}`)},o.resolveUserId=function(){return a||(0,t.retrieveFromLocalStore)(i)},o.setUserStatus=function(e){o.isNewUser=e}},647:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isBot=void 0;const t=r(694),n=[" daum[ /]"," deusu/"," yadirectfetcher","(?:^|[^g])news","(?<! (?:channel/|google/))google(?!(app|/google| pixel))","(?<! cu)bot(?:[^\\w]|_|$)","(?<! ya(?:yandex)?)search","(?<!(?:lib))http","(?<![hg]m)score","@","\\(\\)","\\.com","^12345","^<","^[\\w \\.\\-\\(?:\\):]+(?:/v?\\d+(?:\\.\\d+)?(?:\\.\\d{1,10})*?)?(?:,|$)","^[^ ]{50,}$","^\\w+/[\\w\\(\\)]*$","^active","^ad muncher","^amaya","^avsdevicesdk/","^biglotron","^bot","^clamav[ /]","^client/","^cobweb/","^custom","^ddg[_-]android","^discourse","^dispatch/\\d","^downcast/","^duckduckgo","^facebook","^getright/","^gozilla/","^hatena","^hobbit","^hotzonu","^hwcdn/","^jeode/","^jetty/","^jigsaw","^microsoft bits","^movabletype","^mozilla/\\d\\.\\d \\(compatible;?\\)$","^mozilla/\\d\\.\\d \\w*$","^navermailapp","^netsurf","^offline explorer","^postman","^python","^rank","^read","^reed","^rest","^serf","^snapchat","^space bison","^svn","^swcd ","^taringa","^thumbor/","^track","^valid","^w3c","^webbandit/","^webcopier","^wget","^whatsapp","^wordpress","^xenu link sleuth","^yahoo","^yandex","^zdm/\\d","^zoom marketplace/","^{{.*}}$","archive","ask jeeves/teoma","bit\\.ly/","bluecoat drtr","browsex","burpcollaborator","capture","catch","check","chrome-lighthouse","chromeframe","classifier","cloud","crawl","dareboost","datanyze","dejaclick","dmbrowser","download","evc-batch/","feed","firephp","gomezagent","headless","httrack","hubspot marketing grader","hydra","ibisbrowser","images","insight","inspect","iplabel","ips-agent","java(?!;)","library","mail\\.ru/","manager","neustar wpm","node","nutch","offbyone","optimize","pageburst","parser","perl","phantom","pingdom","powermarks","preview","proxy","ptst[ /]\\d","reputation","resolver","retriever","rexx;","rigor","robot","rss","scan","scrape","server","sogou","sparkler/","speedcurve","spider","splash","statuscake","supercleaner","synapse","synthetic","tools","torrent","trace","transcoder","url","virtuoso","wappalyzer","webglance","webkit2png","whatcms/","zgrab"],s=(0,t.resolveUserAgent)();o.isBot=function(e){const o=e||s;return new RegExp(n.join("|"),"i").test(o)}},694:(e,o)=>{function r(){return"undefined"!=typeof window&&"undefined"!=typeof document}Object.defineProperty(o,"__esModule",{value:!0}),o.resolveDocumentTitle=o.resolveDocumentReferrer=o.resolveDocument=o.resolveUserAgent=o.resolveSegmentUrl=o.resolveActiveUrl=o.resolveHost=o.resolveWindow=o.isBrowser=void 0,o.isBrowser=r,o.resolveWindow=function(){return r()?window:{}},o.resolveHost=function(){return r()?window.location.host:""},o.resolveActiveUrl=function(){return r()?window.location.href:""},o.resolveSegmentUrl=function(){return r()?window.location.pathname:""},o.resolveUserAgent=function(){return r()?window.navigator.userAgent:""},o.resolveDocument=function(){return r()?document:{}},o.resolveDocumentReferrer=function(){return r()?document.referrer:""},o.resolveDocumentTitle=function(){return r()?document.title:""}},171:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.generateUserId=void 0,o.generateUserId=function(){return(Date.now()+Math.random()).toString(36)}},720:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clearLocalStore=o.removeKeyFromLocalStore=o.hasKeyInLocalStore=o.retrieveFromLocalStore=o.storeInLocalStore=void 0;const t=r(694);function n(e){return!!(0,t.isBrowser)()&&null!==localStorage.getItem(e)}o.storeInLocalStore=function(e,o){(0,t.isBrowser)()&&localStorage.setItem(e,o)},o.retrieveFromLocalStore=function(e){if(!(0,t.isBrowser)())return"";const o=localStorage.getItem(e);return null===o?"":o},o.hasKeyInLocalStore=n,o.removeKeyFromLocalStore=function(e){(0,t.isBrowser)()&&n(e)&&localStorage.removeItem(e)},o.clearLocalStore=function(){(0,t.isBrowser)()&&localStorage.clear()}},407:(e,o,r)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clearSessionStore=o.removeKeyFromSessionStore=o.hasKeyInSessionStore=o.retrieveFromSessionStore=o.storeInSessionStore=void 0;const t=r(694),n=r(720);o.storeInSessionStore=function(e,o){(0,t.isBrowser)()&&sessionStorage.setItem(e,o)},o.retrieveFromSessionStore=function(e){if(!(0,t.isBrowser)())return"";const o=sessionStorage.getItem(e);return null===o?"":o},o.hasKeyInSessionStore=function(e){return!!(0,t.isBrowser)()&&null!==sessionStorage.getItem(e)},o.removeKeyFromSessionStore=function(e){(0,t.isBrowser)()&&(0,n.hasKeyInLocalStore)(e)&&sessionStorage.removeItem(e)},o.clearSessionStore=function(){(0,t.isBrowser)()&&sessionStorage.clear()}},838:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.resolveUTMData=void 0,o.resolveUTMData=function(e){const o=new URLSearchParams(e);return{utmCampaign:o.get("utm_campaign")||"",utmContent:o.get("utm_content")||"",utmMedium:o.get("utm_medium")||"",utmSource:o.get("utm_source")||"",utmTerm:o.get("utm_term")||""}}}},o={};function r(t){var n=o[t];if(void 0!==n)return n.exports;var s=o[t]={exports:{}};return e[t](s,s.exports,r),s.exports}r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{const e=r(374),o=r(270),t=r(914),n=r(848),s=r(502),i=r(971),a=r(857),l=r(318),c=r(382),d=r(694);(0,d.isBrowser)()&&(window.init=function(r){(0,s.isConfiguredProperly)(r)?((0,s.initConfig)(r),(0,c.validateProperty)(s.config.propertyToken,(0,d.resolveHost)()).then((r=>{r?s.config.stopAll=!1:(console.error(`bloomsight.js: propertyToken is not valid for ${(0,d.resolveHost)()}`),s.config.stopAll=!0),(0,e.initPlatform)(),(0,o.initUser)(),(0,t.initSession)()})).catch((e=>{console.error(e)}))):console.error("bloomsight.js: propertyToken, isDevelopmentMode are mandatory parameters")},window.resolveSimpleEvent=i.resolveSimpleEvent,window.resolveDataEvent=a.resolveDataEvent,window.pageViewObserver=n.pageViewObserver,window.sendEmail=l.sendEmail)})()})();